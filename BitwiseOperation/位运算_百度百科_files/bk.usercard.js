(function(){if(typeof easy=="undefined"){easy=(function(){var E=function(F,H){for(var G in H){if(H.hasOwnProperty(G)){F[G]=H[G]}}return F};var D=function(H,F){var G=Array.prototype.slice.call(arguments,2);return function(){return H.apply(F,G)}};var C=function(H,F){var G=Array.prototype.slice.call(arguments,2);return function(K){var I=K||window.event;var J=Array.prototype.concat(I,G);return H.apply(F,J)}};var B=function(F){return typeof F=="string"?document.getElementById(F):F};var A={isGecko:/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent),isStrict:document.compatMode=="CSS1Compat",isOpera:window.opera!=undefined,isWebkit:/webkit/i.test(navigator.userAgent)};if(/msie (\d+\.\d)/i.test(navigator.userAgent)){A.ie=document.documentMode||parseFloat(RegExp["\x241"])}if(/firefox\/(\d+\.\d)/i.test(navigator.userAgent)){A.firefox=parseFloat(RegExp["\x241"])}if(/chrome\/(\d+\.\d)/i.test(navigator.userAgent)){A.chrome=parseFloat(RegExp["\x241"])}if(/opera\/(\d+\.\d)/i.test(navigator.userAgent)){A.opera=parseFloat(RegExp["\x241"])}if((/(\d+\.\d)(\.\d)?\s+safari/i.test(navigator.userAgent)&&!/chrome/i.test(navigator.userAgent))){A.safari=parseFloat(RegExp["\x241"])}return{extend:E,bind:D,bindWithEvent:C,browser:A,g:B}})()}if(typeof easy.fx=="undefined"){easy.fx=function(A){var B=function(){};this.options=easy.extend({duration:500,animate:true,selector:"",from:[],to:[],onStart:function(){return true},onAnimate:B,onStop:B,toggle:false,transition:function(D,C,F,E){return F*D/E+C}},A);this.timer=null};easy.fx.prototype={animate:function(C){var B=new Date().getTime()+C;var A=this;A.timer=window.setInterval(function(){var F=new Date().getTime();if(F<B){var D=B-F;var E=A.computeStyle(D);baidu.setStyles(A.options.selector,E);A.options.onAnimate.call(null,F,B,E)}else{A.stop()}},30)},start:function(){window.clearTimeout(this.timer);this.timer=null;var A=this.options.onStart.call();if(!this.options.animate){this.stop()}else{if(A){this.animate(this.options.duration)}}},stop:function(){window.clearTimeout(this.timer);this.timer=null;var B=this.options;var A=B.to.length;var E={};for(var D=0;D<A;++D){E[B.to[D][0]]=B.to[D][1]+(B.to[D][2]==1?"px":0)}baidu.setStyles(B.selector,E);B.onStop.call();if(B.toggle){var C=B.to;B.to=B.from;B.from=C}},computeStyle:function(F){var E={};var B=this.options;var A=B.to.length;for(var C=0;C<A;++C){var H=B.from[C];var G=B.to[C];var D=H[0];E[D]=B.transition(F,G[1],H[1]-G[1],B.duration)+(B.from[C][2]==1?"px":0)}return E}}}if(typeof baidu.more=="undefined"){baidu.more=baidu.more||{};baidu.more.ns=function(E){var F=E.split(".");var B=window;for(var D=0,A=F.length;D<A;D++){var C=F[D];if(C==""){continue}B[C]=(B[C]||{});B=B[C]}}}})();baidu.extend(String.prototype,{byteLength:function(){return this.replace(/[^\u0000-\u007f]/g,"\u0061\u0061").length},subByte:function(E,D){if(this.byteLength()<=E){return this}for(var B=Math.floor((E=E-2)/2),A=this.length;B<A;B++){var C=this.substring(0,B);if(C.byteLength()>=E){return C+(D!=undefined?D:"...")}}return this}});(function(){var B;var X,M,Z;var Q,b,V,S,a,A,F;var U=false;var K={"0":null,"1":"http://img.baidu.com/img/baike/encourage/user-priority-boy.gif","2":"http://img.baidu.com/img/baike/encourage/user-priority-girl.gif","3":"http://img.baidu.com/img/baike/encourage/5year-boy.png","4":"http://img.baidu.com/img/baike/encourage/5year-girl.png"};var D="http://baike.baidu.com/uc/task";var C="http://baike.baidu.com/history/id=";var N='<div><span>百科高手</span>都是从零学起的。</div><div class="indent">我就是正在学习的<span>潜力派！</span></div>';function G(c,d){switch(c){case"ucInfo":E(d);break;case"ucRole":R(function(){return d&&d.length>0},H,d,Q);break;case"ucBadge":R(function(){return d&&d.length>0},P,d,b);break;case"ucHonor":R(function(){return !!d},I,d,S);break;case"ucGoingTask":Y(d);break;case"ucGdVer":R(function(){return !!d},L,d,a);break;case"ucDefault":W(d);break;case"ucEdit":O(d);break}}function E(c){var d="";if(c.avatar=="0"){d="http://img.baidu.com/img/baike/pictures/r0s1g"+c.level+".gif"}else{d=K[c.avatar]}X.innerHTML='<img width="84px" height="84px" src="'+d+'" />';M.innerHTML=c.userName;M.href="http://passport.baidu.com/?business&aid=7&default_tab=2&un="+c.userName+"#3";M.target="_blank";Z.innerHTML='<a class="usercardtitle level'+c.level+'" title="'+c.userTitle+'" target="_blank" href="http://www.baidu.com/search/baike_help.html#&#30334;&#31185;&#31215;&#20998;&#20307;&#31995;">等级'+c.level+"</a>"}function H(f){var d=f.length;if(d==0){return }var c=[];c.push("<ul>");for(var e=0;e<d;++e){var g=f[e];c.push('<li><img width="16px" height="16px" src="'+g.src+'" /><a target="_blank" href="'+g.href+'">'+g.name+"</a></li>")}c.push("</ul>");Q.innerHTML=c.join("")}function P(g){var d=g.length;if(d==0){return }var c=[];c.push("<ul>");for(var e=0;e<d;++e){var f=g[e];if(f.id!=null){c.push('<li><img width="38px" height="38px" src="'+f.SmallIcon+'" title="'+f.Name+'" /></li>')}}c.push("</ul>");b.innerHTML=c.join("")}function I(c){if(c==1){S.innerHTML='我的荣誉：<a target="_blank" href="http://baike.baidu.com/starlist/">百科之星</a>'}}function Y(f){var d=f.length;if(d==0){return }var c=[];c.push('<ul class="fix">');for(var e=0;e<d;++e){var g=f[e];c.push('<li class="going-task-li"><a target="_blank" href="'+g.href+'"><img width="16px" height="16px" src="'+g.img+'" title="'+g.tip+'" /></a></li>')}c.push("</ul>");V.innerHTML='<div class="fl">正在参加的任务：</div>'+c.join("")}function L(d){var c=d.lemmaTitle.subByte(22);a.innerHTML='我的优质版本：<a target="_blank" title="'+d.lemmaTitle+'" href="'+(C+d.id)+'">'+c+"</a>"}function W(c){A.innerHTML='<div class="book"></div><div class="msg">'+c+"</div>"}function O(c){F.innerHTML="通过版本数："+c.passCount+"&nbsp;&nbsp;&nbsp;&nbsp;版本通过率："+c.passRatio+"%"}function T(){B=baidu.q("user-card")[0];X=baidu.q("uc-pic")[0];M=baidu.q("uc-id")[0];Z=baidu.q("uc-level")[0];Q=baidu.q("uc-role")[0];b=baidu.q("uc-badge")[0];V=baidu.q("uc-going-task")[0];S=baidu.q("uc-honor")[0];a=baidu.q("uc-gq")[0];A=baidu.q("uc-default")[0];F=baidu.q("uc-edit")[0]}function J(c){if(!U){T();U=true}E(c.userInfo);R(function(){return c.roleInfo&&c.roleInfo.length>0},H,c.roleInfo,Q);R(function(){return c.badgeInfo&&c.badgeInfo.length>0},P,c.badgeInfo,b);R(function(){return !!c.honorInfo},I,c.honorInfo,S);R(function(){return c.ongoingTaskInfo&&c.ongoingTaskInfo.length>0},Y,c.ongoingTaskInfo,V);R(function(){return !!c.gdVerInfo},L,c.gdVerInfo,a);R(function(){return !c.roleInfo&&!c.badgeInfo&&!c.honorInfo&&!c.ongoingTaskInfo&&!c.gdVerInfo},W,N,A);R(function(){return c.editInfo},O,c.editInfo,F)}function R(f,d,e,c){if(condition=f()){d(e);c.style.display="block";if(d!=W&&d!=O&&A.style.display!="none"){A.style.display="none"}}else{c.style.display="none"}}usercard={setContent:G,buildCard:J}})();baidu.more.ns("bk");bk.moduleLoader=function(){var C=[];var D=0;var A=function(H,M){var I=document.createElement("link");var K=0;var L=document.styleSheets.length;if(baidu.browser.ie){I.onload=J}function J(){if(K){return }if("function"==typeof M){M();K=1}}document.getElementsByTagName("head")[0].appendChild(I);I.type="text/css";I.rel="stylesheet";I.href=H;if(!baidu.browser.ie){var G=window.setInterval(function(){var N=document.styleSheets.length;if(N>L&&I.sheet&&!K){window.clearInterval(G);("function"==typeof M)&&window.setTimeout(M,100)&&(K=1)}},40)}};function B(G,J){var H=E(G);var I=H=="css"?A:baidu.sio.callByBrowser;C.push({url:G,func:I,callback:J})}function F(){var G=C.length;if(D==G){return }var I=C[D];var H=null;if(D<G){if(I.callback){H=function(){I.callback();F()}}else{H=function(){F()}}}D++;I.func(I.url,H)}function E(H){var G=H.lastIndexOf(".");if(G<0){return null}return H.slice(G+1)}baidu.extend(this,{add:B,load:F})};(function(){var U={};usercard.addCardInfo=J;var C=['<div class="user-card fix">','<div class="top-bg"></div>','<div class="card-body fix">','<div class="uc-l">','<div class="uc-pic"></div>','<div class="uc-name"><a class="uc-id" href=""></a></div>','<div class="uc-level"></div>',"</div>",'<div class="uc-r">','<div class="uc-items">','<div class="uc-role fix"></div>','<div class="uc-badge fix"></div>','<div class="uc-honor"></div>','<div class="uc-going-task fix"></div>','<div class="uc-gq"></div>','<div class="uc-default"></div>','<div class="uc-edit"></div>',"</div>",'<span class="pillar"></span>',"</div>","</div>","</div>"].join("");var S="/api/usercard/info?";var R="http://baike.bdimg.com/css/bk.usercard.css";var P,A;var L=false;var I;var B;var K;var E;function N(W){if(U[W]){usercard.buildCard(U[W]);E.start()}else{var V=S+baidu.url.jsonToQuery({userName:encodeURIComponent(W),r:Math.random(),callback:"usercard.addCardInfo"});baidu.sio.callByBrowser(V,function(){if(U[W]){usercard.buildCard(U[W]);E.start();if(nslog){nslog(window.location.href,453)}}})}}function D(e){var W=e;var d=W.offsetWidth;var a=W.offsetHeight;var c=baidu.dom.getPosition(W);var Y=c.left;var f=c.top;var Z=baidu.page.getViewWidth();var V=baidu.page.getViewHeight();var b={l:baidu.page.getScrollLeft(),t:baidu.page.getScrollTop()};var X=t=0;X=Y-6;t=f+a;if(X>Z+b.l-P){X=Z+b.l-P-6}if(t>V+b.t-A){t=f-A}K.style.left=X+"px";K.style.top=t+"px"}function H(V){if(L){return }K.style.left="-500px";L=false}function T(W,V){L=true;baidu.dom.setStyle(B,"opacity",0);if(U[V]){K.style.backgroundImage="none"}else{K.style.backgroundImage="url(http://img.baidu.com/img/baike/usercenter/usercard/loading.gif)"}D(W);N(V)}function F(){clearTimeout(I);L=false;I=setTimeout(H,200)}function O(Y,W){var V=baidu.event.get(Y);baidu.event.stop(Y);var X=V.target;clearTimeout(I);I=setTimeout(function(){T(X,W)},700)}function J(W){if(W&&W.userInfo&&W.userInfo.userName){var V=W.userInfo.userName;W.editInfo={passCount:W.userInfo.passCount,passRatio:W.userInfo.passRatio};U[V]=W}}function Q(){if(baidu.browser.ie==6){try{document.execCommand("BackgroundImageCache",false,true)}catch(V){}}K=document.createElement("div");K.id="usercard-wrap";K.innerHTML=C;document.body.appendChild(K);P=352;A=K.offsetHeight;B=baidu.dom.first(K);baidu.dom.setStyle(B,"opacity",0);baidu.each(baidu.q("usercard"),function(W){G(W)});baidu.on(K,"mouseover",function(){L=true});baidu.on(K,"mouseout",F);E=new easy.fx({duration:350,selector:B,from:[["opacity",0,0]],to:[["opacity",1,0]],transition:function(X,W,Z,Y){return -Z*(X/=Y)*(X-2)+W}})}function G(W){var V=W.innerHTML;if(V){baidu.on(W,"mouseover",function(X){O(X||window.event,V)});baidu.on(W,"mouseout",F)}}usercard.bindTrigger=G;(function M(){var V=new bk.moduleLoader;V.add(R,Q);V.load()})()})();